<mujoco model="single object">
  <option timestep="0.005"/>
  <size memory="100M"/>

  <default>
    <geom solimp=".9 .9 .01"/>
    <!-- 可以保留其他几何体类型的默认类，但我们会为自定义STL物体单独定义属性 -->
  </default>

  <asset>
    <!-- 原有的纹理和材质定义 -->
    <texture type="skybox" builtin="gradient" width="512" height="512" rgb1=".4 .6 .8" rgb2="0 0 0"/>
    <texture name="texgeom" type="cube" builtin="flat" mark="cross" width="128" height="128" rgb1="0.6 0.6 0.6" rgb2="0.6 0.6 0.6" markrgb="1 1 1"/>
    <texture name="texplane" type="2d" builtin="checker" rgb1=".4 .4 .4" rgb2=".6 .6 .6" width="512" height="512"/>
    <material name="MatPlane" reflectance="0.3" texture="texplane" texrepeat="1 1" texuniform="true" rgba=".7 .7 .7 1"/>
    <!-- 为STL物体定义一个新材质 -->
    <material name="custom_object_material" texture="texgeom" texuniform="true" rgba="0.2 0.5 0.8 1"/>
    
    <!-- 关键步骤1：在asset部分定义您的STL网格 -->
    <mesh name="my_object_mesh" file="assets/potted_meat_can.stl"/>
  </asset>

  <visual>
    <quality shadowsize="4096" offsamples="8"/>
    <map znear="0.1" force="0.05"/>
  </visual>

  <statistic extent="4"/>

  <worldbody>
    <light directional="true" diffuse=".8 .8 .8" pos="0 0 10" dir="0 0 -10"/>
    <geom name="floor" type="plane" size="3 3 .5" material="MatPlane"/>
    

    <!-- 关键步骤2：修改body部分，替换几何体并定义物理属性 -->
    <body name="single_object" pos="0 0 1">
      <freejoint/> <!-- 此关节赋予物体6个运动自由度 -->
      
      <!-- 关键步骤3：定义惯性属性（质量信息） -->
      <!-- inertial标签用于定义物体的质量分布，对物理仿真至关重要 [4,7](@ref) -->
      <inertial pos="0.045 0.025 0.0375" mass="0.5" diaginertia="0.001 0.001 0.001"/>
      
      <!-- 关键步骤4：将geom的type改为"mesh"，并引用您定义的网格 -->
      <!-- 
        type="mesh": 指定几何体类型为网格。
        mesh="my_object_mesh": 引用在asset中定义的网格。
        material="custom_object_material": 应用自定义材质。
        contype="1": 启用碰撞检测 (1为启用，0为禁用) [1](@ref)。
        conaffinity="1": 指定该几何体与哪些其他几何体发生碰撞 (1通常表示与所有启用的几何体碰撞)。
        density: 定义密度（kg/m³），MuJoCo可根据密度和网格体积自动计算质量，但此处我们用inertial明确质量。
        也可以直接使用 mass 属性，但使用inertial标签可以更精确地定义质量分布。
      -->
      <geom type="mesh" mesh="my_object_mesh" material="custom_object_material" 
            contype="1" conaffinity="1"/>
    </body>
  </worldbody>
</mujoco>